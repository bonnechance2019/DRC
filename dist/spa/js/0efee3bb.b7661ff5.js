(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["0efee3bb"],{"45ab":function(e,t,o){"use strict";o.r(t);var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("q-input",{directives:[{name:"select-all",rawName:"v-select-all"}],staticClass:"col",attrs:{outlined:"",label:"Search"},on:{keyup:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"]))return null;e.searchField=""}},scopedSlots:e._u([{key:"append",fn:function(){return[""!==e.searchField?o("q-icon",{staticClass:"cursor-pointer",attrs:{name:"close"},on:{click:function(t){e.searchField=""}}}):e._e(),o("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:e.searchField,callback:function(t){e.searchField=t},expression:"searchField"}})},r=[],i=(o("8e6e"),o("8a81"),o("ac6a"),o("cadf"),o("06db"),o("456d"),o("386d"),o("c47a")),s=o.n(i),c=o("2f62"),a=o("5c3a");function l(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function d(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?l(o,!0).forEach((function(t){s()(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):l(o).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var u={directives:{selectAll:a["a"]},computed:d({},Object(c["d"])("index",["search"]),{searchField:{get:function(){return this.search},set:function(e){this.setSearch(e)}}}),methods:d({},Object(c["b"])("index",["setSearch"]))},f=u,p=o("2877"),h=o("fe09"),b=Object(p["a"])(f,n,r,!1,null,null,null);t["default"]=b.exports;b.options.components=Object.assign({QInput:h["l"],QIcon:h["k"]},b.options.components||{})},"5c3a":function(e,t,o){"use strict";o.d(t,"a",(function(){return n}));var n={inserted:function(e){var t=e.querySelector(".q-field__native");t.addEventListener("focus",(function(){t.value.length&&t.select()}))}}},"8a29":function(e,t,o){"use strict";o.r(t);var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("q-table",{attrs:{dense:"",title:"料理",data:e.dish,columns:e.dish_nutrient,"row-key":"id",selection:"single",selected:e.selected},on:{"update:selected":function(t){e.selected=t},selection:e.selectDish}})},r=[],i=(o("8e6e"),o("8a81"),o("456d"),o("ac6a"),o("cadf"),o("06db"),o("c47a")),s=o.n(i),c=o("2f62");function a(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function l(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?a(o,!0).forEach((function(t){s()(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):a(o).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var d={props:["showFood"],data:function(){return{selected:[]}},computed:l({},Object(c["d"])("index",["dish_nutrient","search"]),{},Object(c["c"])("index",["dish"])),methods:l({},Object(c["b"])("index",["setSelect","setSearchType"]),{selectDish:function(e){e.added?(this.setSelect(e.keys),this.$emit("true")):(this.setSelect(""),this.$emit("false"),this.selected=[])}}),watch:{search:function(e,t){""==e&&this.selectDish("")}}},u=d,f=o("2877"),p=o("fe09"),h=Object(f["a"])(u,n,r,!1,null,null,null);t["default"]=h.exports;h.options.components=Object.assign({QTable:p["y"]},h.options.components||{})},"8b24":function(e,t,o){"use strict";o.r(t);var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("q-page",{staticClass:"q-pa-md absolute full-height full-width column"},[o("div",{staticClass:"q-pa-md row"},[o("search",{staticStyle:{"max-width":"300px"}}),o("q-btn",{attrs:{disable:"dish"==e.searchType,color:"primary",label:"料理"},on:{click:function(t){return e.setSearchType("dish")}}}),o("q-btn",{attrs:{disable:"food"==e.searchType||e.showFood,color:"primary",label:"食材"},on:{click:function(t){return e.setSearchType("food")}}}),o("div",{directives:[{name:"show",rawName:"v-show",value:"dish"==e.searchType&&e.showFood,expression:"searchType=='dish' && showFood"}],staticClass:"q-pa-md row; text-amber-10"},[e._v("\n      單獨查詢食材，須先取消勾選\n    ")]),o("q-btn",{staticStyle:{position:"relative",left:"20%",top:"5px"},attrs:{round:"",color:"secondary",to:"/dish",icon:"add"},on:{click:function(t){e.showFood=!1}}})],1),o("dish-table",{directives:[{name:"show",rawName:"v-show",value:e.search&&"dish"==e.searchType,expression:"search && searchType=='dish'"}],attrs:{showFood:e.showFood},on:{"update:showFood":function(t){e.showFood=t},"update:show-food":function(t){e.showFood=t},true:function(t){e.showFood=!0},false:function(t){e.showFood=!1}}}),o("br"),e.search&&"food"==e.searchType||e.showFood?o("food-table"):e._e(),o("recipe-table",{staticClass:"col"})],1)},r=[],i=(o("8e6e"),o("8a81"),o("ac6a"),o("cadf"),o("06db"),o("456d"),o("c47a")),s=o.n(i),c=o("2f62");function a(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function l(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?a(o,!0).forEach((function(t){s()(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):a(o).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var d={name:"PageIndex",data:function(){return{showFood:!1}},computed:l({},Object(c["d"])("index",["searchType","search"])),methods:l({},Object(c["b"])("index",["setSearchType"])),components:{search:o("45ab").default,"dish-table":o("8a29").default,"food-table":o("c181").default,"recipe-table":o("b294").default}},u=d,f=o("2877"),p=o("fe09"),h=Object(f["a"])(u,n,r,!1,null,null,null);t["default"]=h.exports;h.options.components=Object.assign({QPage:p["r"],QBtn:p["b"]},h.options.components||{})},b294:function(e,t,o){"use strict";o.r(t);var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"row q-pt-md"},e._l(e.recipe,(function(t,n){return o("q-card",{key:n,staticStyle:{"max-width":"300px"},attrs:{dense:"",title:"食譜"}},[o("q-card-section",[o("div",{staticClass:"text-h6"},[e._v(e._s(n+1))]),o("div",{staticClass:"text-subtitle2"},[e._v(e._s(t.last_editor))])]),o("q-card-section",[e._v("\n      "+e._s(t.text)+"\n    ")])],1)})),1)},r=[],i=(o("8e6e"),o("8a81"),o("ac6a"),o("cadf"),o("06db"),o("456d"),o("c47a")),s=o.n(i),c=o("2f62");function a(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function l(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?a(o,!0).forEach((function(t){s()(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):a(o).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var d={computed:l({},Object(c["c"])("index",["recipe"]))},u=d,f=o("2877"),p=o("fe09"),h=Object(f["a"])(u,n,r,!1,null,null,null);t["default"]=h.exports;h.options.components=Object.assign({QCard:p["d"],QCardSection:p["f"]},h.options.components||{})},c181:function(e,t,o){"use strict";o.r(t);var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return"dishAdd"==e.searchType?o("q-table",{attrs:{dense:"",title:"食材",data:e.foodList,columns:e.food_nutrient,"row-key":"id"}}):o("q-table",{attrs:{dense:"",title:"食材",data:e.food,columns:e.food_nutrient,"row-key":"id"}})},r=[],i=(o("8e6e"),o("8a81"),o("ac6a"),o("cadf"),o("06db"),o("456d"),o("c47a")),s=o.n(i),c=o("2f62");function a(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function l(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?a(o,!0).forEach((function(t){s()(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):a(o).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var d={props:["containToSubmit","dishToSubmit"],data:function(){return{foodList:[]}},computed:l({},Object(c["d"])("index",["food_nutrient","searchType"]),{},Object(c["c"])("index",["food"])),methods:{getFood:function(e){for(var t=this,o=[],n={name:"總和",quantity:0,calories:0,fat:0,protein:0,carbs:0,grains:0,fruits:0,vegetables:0,oils:0,dairy:0,meat_and_beans:0,dietary_fiber:0,total_sugar:0,sodium:0,potassium:0,calcium:0,magnesium:0,iron:0,zinc:0,phosphorus:0,vitaminA:0,vision_alcohol:0,vitaminE:0,vitaminB1:0,vitaminB2:0,vitaminB6:0,vitaminB12:0,vitaminC:0,nicotin:0,folic_acid:0,fatty_acidS:0,fatty_acidM:0,fatty_acidP:0,cholesterol:0},r=function(n){for(var r=function(r){if(t.food[r].id==e[n].food){var s={id:""};Object.keys(t.food[r]).forEach((function(o){s[o]="id"==o||"name"==o?t.food[r][o]:t.food[r][o]*e[n].quantity})),o.push(s),r=t.food.length}i=r},i=0;i<t.food.length;i++)r(i)},i=0;i<e.length;i++)r(i);for(i=0;i<o.length;i++)n.quantity+=o[i].quantity,n.calories+=o[i].calories,n.fat+=o[i].fat,n.protein+=o[i].protein,n.carbs+=o[i].carbs,n.grains+=o[i].grains,n.fruits+=o[i].fruits,n.vegetables+=o[i].vegetables,n.oils+=o[i].oils,n.dairy+=o[i].dairy,n.meat_and_beans+=o[i].meat_and_beans,n.dietary_fiber+=o[i].dietary_fiber,n.total_sugar+=o[i].total_sugar,n.sodium+=o[i].sodium,n.potassium+=o[i].potassium,n.calcium+=o[i].calcium,n.magnesium+=o[i].magnesium,n.iron+=o[i].iron,n.zinc+=o[i].zinc,n.phosphorus+=o[i].phosphorus,n.vitaminA+=o[i].vitaminA,n.vision_alcohol+=o[i].vision_alcohol,n.vitaminE+=o[i].vitaminE,n.vitaminB1+=o[i].vitaminB1,n.vitaminB2+=o[i].vitaminB2,n.vitaminB6+=o[i].vitaminB6,n.vitaminB12+=o[i].vitaminB12,n.vitaminC+=o[i].vitaminC,n.nicotin+=o[i].nicotin,n.folic_acid+=o[i].folic_acid,n.fatty_acidS+=o[i].fatty_acidS,n.fatty_acidM+=o[i].fatty_acidM,n.fatty_acidP+=o[i].fatty_acidP,n.cholesterol+=o[i].cholesterol;return o.push(n),o}},mounted:function(){var e=this;"dishAdd"==this.searchType?(this.foodList=this.getFood(this.containToSubmit),Object.keys(this.dishToSubmit).forEach((function(t){"name"!=t&&(e.dishToSubmit[t]=e.foodList[e.foodList.length-1][t])}))):this.foodList=this.food}},u=d,f=o("2877"),p=o("fe09"),h=Object(f["a"])(u,n,r,!1,null,null,null);t["default"]=h.exports;h.options.components=Object.assign({QTable:p["y"]},h.options.components||{})}}]);